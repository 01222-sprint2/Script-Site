<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
</head>

<body>


    <h1>Projeção de Safra - CottonTech</h1>
    <h2>
        <div style="text-align:center; font-family: sans-serif; font-size: medium;">
            O fungo chamado ramulária é um dos maiores inimigos da produção de algodão e é favorecido por condições
            de alta umidade, temperaturas entre 25℃ e 30℃. Na safra 2019/2020, o fungo causou um prejuízo de
            R$ 1,89 bilhões ao setor tendo o potencial de perda das lavouras de algodão em 35%
        </div>
    </h2>

    <b>Informe o nome do seu negócio agricola:</b> <input type="text" id="nome" placeholder="Ex: MaisAgro.ltda"><br><br>

    <b>Informe a quatidade de hectares que possui:</b> <input type="text" id="hec" ><br><br>

    <b>Informe o quanto sua plantação produz em @, por hectare:</b> <input type="text" id="peso"
        placeholder="Ex: 13kg"><br><br>

    <b>Informe o quanto sua plantação vende por @:</b> <input type="text" id="valor"
        placeholder="Ex: R$200"><br><br>

    <b>Selecione porcentagem que deseja para a fazer a simulaçao de perda de safras</b>
    <select id="sel_porcentagem">
        <option value="0">--Selecione a porcentagem--</option>
        <option value="10">10%</option>
        <option value="15">15%</option>
        <option value="20">20%</option>
        <option value="25">25%</option>
        <option value="30">30%</option>
    </select>


    <button onclick="verificar()">verificar</button>

    
    <div id="mensagem"></div>
</body>

</html>

<script>
    function verificar() {

        var peso1 = Number(peso.value);
        var hectares = Number(hec.value);
        var porcentagem = Number(sel_porcentagem.value);
        var valores = valor.value;

        var prod_porAr = peso1 * valores;
        console.log(prod_porAr)
        var prod_porHec = hectares * prod_porAr;
        console.log(prod_porHec)
        var perda = (prod_porHec * (porcentagem + 7))/100 ;
        console.log(perda)
        var deficit = perda * prod_porHec;
        console.log(deficit)
        var rec = deficit * 0.2;
        console.log(rec)

        //primeiro vc calcula o total de @ produzidos em todos os hectares
        //vc pede pro usuario quantos @ ele produz por hectar (esse é o terceiro input)
        //depois multiplica isso pela quantidade de hectares, assim tendo o valor total de @ em todos os hectares
        //por ex: produzo 5 @ (que equivale a 75kg) por hectar, tenho 2 hectares -> total de arrobas produzidos em todos os hectares será 5*2 = 10
        //depois multiplicar o valor de cada arroba pela quantidade total de arrobas (calculado acima)
        //ok agr vc tem o quanto a sua safra irá render em reais
        //6º agora hora de calcular a porcentagem perdida
        //o usuário que irá decidir a porcentagem que ele quer calcular a projeção e vc soma os 7% de perda natural a esse valor
        //o calculo matematico pra isso ficaria
        //6º total da renda da safra em R$ * (porcentagem do usuario+7)/100
        //7º depois vc pega o resultado calculado acima e aplica outro cálculo para descobrir os 20% que vc vai garantir de volta
        //o calculo ficaria
        //x*0.2 -> onde x é o calculo feito acima

    
        mensagem.innerHTML = `<h1>Expectativa para a sua safra sem a CottonTech</h1>
                             Sua produtividade estimada seria de ${peso1 * hectares}@ de algodão em toda a safra.
                             Porém, caso <strong>não ocorra um monitoramento e consequentemente a manutenção 
                             adequada dos níveis de umidade e temperatura da sua lavoura</strong>, você corre o risco de perder aproximadamente em torno de ${(perda)}@ de algodão ou 
                             um deficit de R$${deficit} em receita bruta.
                             Contudo, essa perda pode ser contornada usando nossos produtos, fazendo assim você receber o retorno total esperado de R$${rec}
                             `

    }

</script>
